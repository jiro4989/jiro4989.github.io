---
layout: default
title: "2021 年振り返り"
date: 2021-12-07 09:00:00 +0900
categories: daily
---

# 2021 年振り返り

2021 年も終わるので、今年 1 年を振り返る。
書き終わったのが 2021/12/30 なので1ヶ月くらいかかった。まぁダラダラ書いてたのもあるけど。

![コミット履歴](https://i.gyazo.com/a1be131f5dda0a279ef6581a5ff71bd3.png)
![コミット数](https://i.gyazo.com/c78f0a4911470fa7c8b7fd786b66309b.png)

コミット数がかなり減った。

* Table of contents
{:toc}

## 記録

開発時間が減り、読書、資格勉強、イラストなどが増えた。

![Toggl](https://i.gyazo.com/7258960ca418c792084a00f9b98a2279.png)

## イベント

今年の自分の中の一大イベントとか。

### コロナが落ち着いた

1年半継続していたコロナが落ち着いた。
去年の時点では正直落ち着くこと無いんじゃないかと疑っていた。
結果的には落ち着いたので良かった。
コロナが落ち着いたけれど、リモートワークは継続している。

### ワクチン 2 回摂取した

モデルナワクチンを 2 回接種した。
これでようやく年末は実家に帰れる、と思ったらまたコロナ流行りだしてる。

### Unityの勉強始めた

ゲーム作りたくなったので Unity の勉強を始めてる。
[Unity のマニュアル](https://docs.unity3d.com/ja/2021.2/Manual/UnityManual.html)読んだり、
チュートリアルやったり、誰かの記事を読んだりしながら色々試してる。

RPG ツクール MV も持ってるのでそっちでも良いのでは、とか思ったけれど作ってみたいゲームシステムが RPG じゃない。
RPG じゃないゲームをツクールで作るのは難しいし、適当ではないので Unity をやることにした。

### SRE チームに異動

2021/10にアプリ開発チームから SRE チームに異動した。

入社時から SRE を目指していることを伝えていたので、2 年を経てやっとこさ SRE になった。
といっても SRE チームに移る前から SRE のやってる領域を一部引き受けるなど、片足を突っ込んではいた。

組織図上もチームが変わったので、業務内容も大きく変わった。

* 特定のプロジェクトにアサインされるのではなく、プロジェクトをまたいで関わるように
* アプリのコードを書かなくなった
* それどころかコード自体をほとんど書いていない
* 運用改善の比率が増えた
* インフラ周りの設計やレビューをすることが増えた
* 依頼タスクやメンションが多くて仕事の進まないシーンが増えた
  * 依頼に忙殺される日々
  * はたして自分はサイト安全性を高められているのか不安になることもある

ガイドラインを整備して自分以外の人でも作業ができるようにしたりなど、いろいろやった。

### log4shell

IT 業界に波乱が起きた最悪の脆弱性。
とにかくやばくて弊社も色々調査をした。
定期的なバージョンアップは CI とかで仕組み化しないとダメね。
renovate とか dependabot とかで。

## 仕事

最初書いた通りSREチームに異動した。

### Go

10 月ごろまではぼちぼち Go を書いてた。
10 月以降はチーム異動もあって全く書かなくなった。

### インフラ

チーム異動に関わらず一年中見てた気がする。
この辺意図的に関わるよう振る舞っていたのもあり、
結果的に SRE チームへの異動が認められたのかと思うと、積極的な行動は大事と思った。

Terraform、監視系、CIなど今まで通り。
AWS 周りの見直しも業務に加わった。
この辺はそもそもやってた事自体知らなかった。

定期的にインフラやパフォーマンスを見たり、自動化したり、設計したり、インフラの相談を受けたりなど。
立場上、開発者より強い権限を持っていて、開発者にできない作業が依頼として来るので、依頼作業に忙殺されやすい。
この辺は Terraform でコード化＋ Terraform のガイドラインの整備をして、開発者でもインフラを変更できるようにして依頼を減らしたりした。

こういう依頼に忙殺されやすい事象に対して SRE サイトリライアビリティエンジニアリング では必ずエンジニアリングする時間を確保して解決していると書いてあった。
この辺はもっと見習う必要がある。まだまだ自動化できる作業は存在する。

### ドキュメントまわり

あいかわらずしょっちゅう書いてる。
頭の中だけで考えるのが苦手なので、考えていることは全部テキストと図に起こしてしまう。

### 退職者

僕が入社した時からお世話になった方数名が退職した。
僕が入社した時からめちゃくちゃ人数が増えたけれど、
退職する人も出てきて、人の入れ替わり、移り変わりを感じる。
退職は波及するので、誰かが退職すると退職者が続くことはままある。

### 今後どうしよ

退職の時期は3日目、3ヶ月、3年とかいう。
ちょうど今が3年目。
前職もちょうど3年目に辞めた。

今はやり遂げたい仕事があるので、まだ転職するつもりはない。でもそれが終わった後どうなるか。
最近は退職する理由にまでは及ばないが、色々思うことも増えてきた。
僕が現職で働くことの意義は何なのだろうか。割り込み業務に忙殺されるなかで分からなくなってきた。

SRE になったけれどサイトの信頼性を高める活動に注力できてない気がしてる。
あと今残業が多くてしんどい。長くは続かないはずだが。
まぁ 1 つの会社にずっと留まる気は最初から無いので、いつかは転職すると思う。

## 個人開発

### 雑感

この記事の最初に貼ったスクショの通りでコミット量はかなり減った。

去年や一昨年は開発に飢えていて、車輪の再発明でもいいからとにかく色々作ってた。
今年は開発熱が冷めたのと、勉強や絵を描いたり、ゲームしたりする時間を増やした関係で相対的に減った。

あとちゃんと公式リファレンスを穴が開くほど読むようになった分、速度が落ちたのもあるかもしれない。
自動化して効率化する方にとにかくフォーカスした1年だった。

活動時間の内訳は以下。

| 年 | アプリ開発 | インフラ開発 | 技術書読み | 資格勉強 | イラスト | ゲーム |
| --- | --- | --- | --- | --- | --- | --- |
| 2020 | 437時間 | 338時間 | 4時間 | 95時間 | 74時間 | 258時間 |
| 2021 | 192時間 | 142時間 | 45時間 | 169時間 | 251時間 | 236時間 |

多分去年は記録取り忘れたのもあるだろうけれど、技術書あんまり読んでない。
他にも色々カテゴリはあるけれど、時間たくさん使ってるもののみだとこんな感じ。

良さげなOSSに GitHub Actions を導入する活動は引き続き行ってる。
自分が保守してるリポジトリのCIを改善したり、テストを整備したり、
dependabotでGitHubリポジトリの依存パッケージの自動更新するのをやったりなど、効率化を測ったりもした。
開発環境の WSL2 周りも整えたりと、足回りを強化する活動が多かった。

### Nim

最近はあんまり書いていない。
ただnimble.directoryに追加されるパッケージはちょいちょい見ている。
良さげなOSSだったらCIを追加するPRを送りつけている。

一応 Qiita に記事書いたりはしてる。

* [NimのコードをNode.js用のJavaScriptコードにトランスコンパイルする - Qiita](https://qiita.com/jiro4989/items/9e5e518b14747c15735c)
* [Nim 公式テストランナーの testament を使って単体テストを行う - Qiita](https://qiita.com/jiro4989/items/7ca0e6998e484bdc0a30)

今年もアドベントカレンダー投稿した。

* [シグナルを受信して安全に停止するプログラムを作る - Qiita](https://qiita.com/jiro4989/items/da18839ec717c8b30863)

あとこっそり nimbot を停止した。

### Go

ツール作るのに以前はよく使ってたけれど、最近はツールを書くこと自体が減ったので、Goも書かなくなった。

ただしょうもないツールを作るのに Go を使ったりする。
[ファイルパーミッションでスロットがしたい - Qiita](https://qiita.com/jiro4989/items/2530c4f789916521a47a) とか。
これは並列処理が必要だったので Go のがやりやすくてGoにした。
アドベントカレンダーのネタにしたらなぜかちょっとだけバズった。

### Java

なんか11月～12月はJava周りをひたすら触ってた。

* OpenJDK 14を使ってるプロジェクトを16に上げた
* TKoolFacetileMaker2でユーザ独自の画像規格を追加できるようにした
* TKoolFacetileMaker2の変遷
* Javaで書いたGUIツール(TKoolFacetileMaker2)をKotlinで書き直した
* TKoolFacetileMaker2は5年前に作ったツールなのに未だに使用報告や改善要望が届くのに驚く
  * <https://github.com/jiro4989/TKoolFacetileMaker2/issues/53>
  * このツールのこと告知してるのってツクマテと[ツクール公式フォーラム](https://forum.tkool.jp/index.php)と昔のブログとかくらいなのに、
    どこからたどり着くんだろう、と思ってエゴサしたら
    [VIPRPG Wiki](https://wikiwiki.jp/viprpg-dev/VXAce/%E3%83%84%E3%83%BC%E3%83%AB%E9%A1%9E)とかで紹介されていることに気付いた
  * 一人でひっそり作ってるツールだったのに知らないところで広まってると嬉しい
  * あとTwitterで紹介してる方がいたりした

### Kotlin

TKoolFacetileMaker2 をついに kotlin で作り直した。
去年から言ってたやつ。やっと終わった。

年末に色々Java周りをいじって楽しくなっていたので、熱が冷める前に4日ほどかけて終わらせた。
やり始めてみたら意外とすぐ終わった。

便利な機能は多いし、暗黙の型変換が無いのと、Null安全なのが嬉しい反面、
表現力が有りすぎて書き方がバラつきやすいのは kotlin]の良くない側面だと感じた。
コーディングルールをちゃんと整備しないと、複数人で書いた時はカオスになりやすそう。
[公式のコーディングルール](https://kotlinlang.org/docs/coding-conventions.html)ちゃんと読もう。

他にもJavaで書いたツールがあるので、そっちも順次移行したい。
もしかしたら機能要望が来るかもしれないので。
TKoolFacetileMaker2ほどユーザいないと思うので、無いとは思うが。

### シェル芸

引き続きシェル芸勉強会に参加している。
最近はあんまりシェル芸してない。
仕事ではしょっちゅう使ってるが。

### GitHub Actions

OSSで良さげなプロジェクトがあったらPullRequestを送りつけている。
dependabotでGitHubリポジトリの依存パッケージの自動更新するのをやった。
これで古いパッケージのままになるのが解消するといいな。

### websh

運用2年目。
特に開発はしてない。
画面UIを一新してReact.jsで書きたいなぁって気持ちが高まっている。
監視系をnetdataに変更した。
サーバ上に同居してたnimbotを停止した。

### WSL2

依然ローカル開発はWSL2を使っている。
この辺の整備をしたので、開発環境が快適でやばい。

* WSL2で1つのディストリビューションから複数の環境を作る
* WSL2環境上のOSセットアップを完全自動化した
* WSL2でGUIアプリを動かせるようにする

特にGUIアプリの開発ができるようになったのでJavaFXで作ったアプリをガシガシ直せるようになった。
今の悩みはWSL2がメモリを食いつぶすこと。
これは直せるはずなのでそのうち直す。

### Unity

Unityでゲーム作りたくなって触り始めてる。
公式のドキュメント読みながら動かしたりC#を書いたりしてる。
スクリプトやリソースの管理が難しそうという印象だった。

### その他

* Windows11にアップグレードした
* GItHubにissuesが大量に残っていたので整理した
  * issuesはほっとくと自分で作るだけ作ってやらずに放置して積み上がってしまう
  * ので、週次で2時間issuesをひたすら潰す時間を設けるようにした
  * たった2時間だけれどちょっとずつ進む
  * 週次で見直すことが大事
* kubernetes の勉強やり始めた
  * <https://github.com/jiro4989/kubernetes-test>
  * Kubernetesで実践するクラウドネイティブDevOps を読んだり
* 負荷試験の勉強で jmeter を使ったりしてる
* 何年か前から使ってた[個人Slack]を止めた
  * いつの間にか見なくなっていたし
  * メールのほうが確実に見るので、 Blogtrottr でRSSをメールに流してる

## 資格勉強

去年はLPIC-1を取った。
今年は去年よりいっぱい勉強した。

### 応用情報

落としました。午後51点は悔しい。
午前は余裕で突破できる確信を得たので、次受けるなら午後対策に特化すればなんとかなるのでは。

### 色彩検定 2 級

色彩検定 2級に合格した。
仕事と全然関係ないというね。
取ってみたら色を見る目が変わった。

ファッションとかでも色の合わせた方を意識するようになった。
まぁあんまり服買わないんだけど。

2020年振り返りではAWSソリューションアーキテクトアソシエイトを取るとかいっといて結局受けずにぜんぜん違うの受験してる。
来年こそは応用情報とってAWSソリューションアーキテクトアソシエイトとる。
資格試験割としんどいのでこの2つ取ったらしばらく資格の勉強しなくなりそう。

## 技術書

読んで良かったもの。

* 分散システムデザインパターン
* 入門監視
* モノリスからマイクロサービスへ
* Kubernetesで実践するクラウドネイティブDevOps

面白かったけれどそこまでだったもの。

* ユニコーン企業のひみつ
* システム障害対応の教科書

読みかけ。

* みずほ銀行システム統合苦闘の19年史
* Amazon Web Servicesインフラサービス活用大全

去年や一昨年はアウトプット量が多かった。
反面インプットが少なかったので、今年は結構本を読むようにした。

あとネタ切れになった感じがする。
自分が知ってる範囲でしか物は作れないんだな、みたいな感覚。
技術の幅を広げるためにもと思い、Kindleでいろいろ買って読んでいる。

最近はKindleかオライリーで電子書籍しか買わないようになった。
物理本はスペースを取って邪魔になる。
Kindleだと外でも読める。
引っ越しの時に捨ててしまいがち。
漫画と技術書合わせたらKindleだけで100冊超えてるはず。

## 漫画

* チェーンソーマン
  * 完結して良かった
  * めっちゃハマった
* 小林さんちのメイドラゴン
  * クトゥルフ神話TRPGの動画から知って読み始めた
  * 面白いね
* ゆくゆくふたり
  * ゆるっと楽しめる
* 私がモテないのはどう考えてもお前らが悪い！
  * 安定して面白い
  * 尖ってる漫画だなぁといつも思う
* 日常
  * 1巻だけ読んだ
  * あんまり記憶に残ってないのでそんなに面白く無かったのかもしれない

今年はあんまり漫画読まなかったなぁ。

## アニメ

今年みたアニメは全部良かった。
特に刺さったのはserial experiments lainとRWBYとウマ娘。

### serial experiments lain

20年くらい昔のアニメ。
ネットワーク技術が発展した特殊な世界観の作品で、色々と頭おかしい。

言ってることは意味不明だけれど不気味さは抜群で楽しかった。
ユーザインタフェースとかも20年後の今から考えると全然違っていて、その当時の未来感が出ているのも面白い。
すごい好き。

### RWBY

めっちゃハマった。
今年シーズン5日本語訳がAmazonPrimeで見られるようになったので、見ようと思ってまだ見てない。

### ウマ娘 プリティーダービー シーズン1

スポ根アニメだった。良かった。

### ウマ娘 プリティーダービー シーズン2

ターボ師匠で泣いた。

### うまよん

ゆるっと楽しめた。

### けものフレンズ

だいぶ前にめっちゃ流行ってたなぁと思って今更見たけれど良かった。
2は評価が低いので見る予定はない。

### 少女終末旅行

原作と結末が違った感じだけどこれはこれで良い。

## イラスト

毎日少しずつ描くのを継続してる。
ClipStudio を使うようになってから快適さが増した。

特に以下の機能。便利すぎる。

* メッシュ変形
  * 体のラインにそって模様や図形を変形できる
* ベクターレイヤ
  * 線画を書くのに適したレイヤ。色塗りに適してるのはラスターレイヤ
  * 今まではラスターレイヤしか使ったことなかった
    * 交点消しを使うとはみ出した線を消すのが快適
    * 太さの調整で細く書いちゃった線の太さを統一したり変更したりできる
    * 点つなぎでフラフラになった線を微修正できる
    * あとベクターレイヤは拡大しても線がぼやけた感じにならない
  * 対象定規
    * 服の模様を書くのに便利。まぁこれは Krita とかにもあった気がするけれど
  * ブラシや素材を自由にDLできるのも便利
    * 2つほど良さげなブラシを見つけてから愛用してる
  * あとクラウドバックアップできるのも地味に嬉しい
    * 今まではUSBメモリにバックアップ取ってたけれどこれからはいらないかも
    * と思いつつ[バックアップの「3-2-1 ルール」とは](https://www.codereading.com/nb/the-3-2-1-backup-rule.html)とかのことも考えると
      USBか外付けハードディスクに保存しといたほうが良いのかも
    * 今は直接外付けハードディスクに保存してる

人気が高いのも納得の便利さ。コレに慣れると他のツールに変更できない。

他にもまだまだ使ってない機能がいっぱいあるので、少しずつ覚えていこうと思う。

立ち絵以外も描いたりしてるけれど公開していない。
3Dのオブジェクトを配置して、それを参考に背景絵を描くとかやってみたい。

## ゲーム

今年はLibrary of Ruina、ドキドキ文系部プラス！、ソウルクレイドルにハマった。

* Library of Ruina
  * ついにゲームが完結し、正式リリースされた
  * 当然ゲームもクリアした
  * 300時間以上遊んだ
  * そしてLimbus Companyという続編？が予定されているらしく、すでに期待
    * <https://www.youtube.com/watch?v=HTRQgFYCXHY>
* デレステ
  * 飽きた
  * デイリーすらやっていない
* ミリシタ
  * 飽きた
  * デイリーすらやっていない
* ウマ娘
  * 飽きたけれどイベントだけは消化してる
  * それなりにSSR完凸が手元に揃ってきたのでAやA+育成が安定してできるようになってきた
  * ソシャゲで継続してるのはコレ1つだけ
  * 複数のソシャゲを継続するのは難しい
  * ターボ師匠はよ
  * 石をターボ師匠のために温存している
  * ゲームの元になったレースとかもYoutubeで見るようになった
  * ハルウララで有馬記念勝ってみせる
* Lobotomy Corporation
  * まだクリアしてない
* 魔界戦記ディスガイア4
  * クリアした
  * Lv9999までいって満足した感がある
  * まだバール倒してない
  * 修羅の国いけるようになるまでがダルい
* 溶鉄のマルフーシャ
  * 実績全解除してクリアした
  * こういう2.5Dゲーム好き
* ドキドキ文系部プラス！
  * 度肝を抜かれたホラーゲーム
  * 超好き
* Back 4 Blood
  * 発売直後に買ってしまった
  * ヒーラープレイが楽しい
  * FPSなのにトラックボールでエイムするのマゾくて楽しい
  * それなりにはエイムできるけれど、対人ではまず勝てない
* Satisfactory
  * 楽しいけれど無限に時間が溶けそう
* 星空プリエール
  * いつもどおり難しくて楽しかった
* Serious Sam 4
  * 無双系FPSの金字塔
  * 大量の敵を撃ちまくれて脳汁が出る
  * 難しいギミックとか謎解きもなく、スカッとできて良かった
* ソウルクレイドル
  * 10年以上前にPS2で遊んだやつ
  * Steamにきてたので買ってしまった
  * このグラフィックとキャラとシナリオ好き
  * 戦闘アニメも派手で好き

## 映画・ドラマ

* 返校
  * もとはSteamのホラーゲーム
  * Netflixでやってたので見た。リンク先の通りでぼちぼち楽しかった

今年は全然映画とかドラマ見てないことに気付いた。

## 私生活

結構私生活の改善が進んだ。
去年引っ越して一人暮らしになったのが大きい。

結果的にはコロナが収まったのは今年だったので、去年時点で引っ越しといて良かったと思う。

### 筋トレ

毎日スマホのアプリを頼りに継続している。
仕事が忙しくなってから継続できてないが。
もう30日くらいできてない。

元々痩せてた関係か、やるようになったら腹筋が割れてきたので意味はあったっぽい。

### IoT 家電

疲れのあまりに前から興味があったIoT家電を買ってしまった。
以前からスマホでいろんな機器を操作したり、そのうちラズパイで遊んだりしたいなぁ、とか思ってた。
リモコン使うのエアコンくらいしか無いんだけどね。

Nature Remo系、二酸化炭素 濃度系、ボタン、カーテンなど。
あと元々持ってたけれどセットアップしてなかったGoogle Homeを使うようにした。

Google Homeと連携して音声でライトを消したり、カーテンを開いたりできるようになったのが地味に嬉しい。
ライトは紐と壁のボタンしかなくて、いちいち移動しないといけないのがダルい。
音声の操作だとスマホに向けて喋れば良いだけなので、あんまり声を張る必要もないし。
一人暮らしなので無くても困らなかったけれど、勉強の一貫と思って買った。

にしても高い！

| 製品 | 値段 |
| --- | --- |
| Nature Remo | 39,980 円 |
| Nature Remo E lite | 13,320 円 |
| 二酸化炭素 濃度計 PTH-8 | 10,098 円 |
| Switchbot ボタン| 3,580 円 |
| Switchbot カーテン| 8,080 円 |

やっぱ物理機器は金かかる。

二酸化炭素 濃度系は特に連携してないけれど買ってよかった。
濃度が1000ppm超えたら換気するようにしてから、仕事中眠気に襲われる頻度がかなり下がった。
冬場はあんまり換気しない生活してたので、定期的に換気するきっかけにもなったので良い。
その分寒さを感じることも増えたが。

### Spotify 課金した

Google HomeからSpotify連携ができることに気付いて話かけたらプレミアムじゃないと無理だよ、って言われてせっかくだったので課金した。
無課金だと広告がうざかったのもあり。
それまではSoundCloudの無料プランで適当に聞いてるだけだった。

Spotifyを課金して使ってみると、オススメされる音楽が思いの外良くて一気にファンになった。
もうコレなしで音楽聞けない。
EDMプレイリストがどんどん育つ。

こうしてサブスクリプションサービスがどんどん増えていく。

### 紙の書類の整理

集約管理したらいい感じになった。
もともと適当に管理してたので、仕切りが大量に入ったファイルを買って、仕切りを年単位の区切りとして扱うようにしたのが良かった。
あと何でもかんでもそこに入れるのではなく、捨てて良いものはさっさと捨てるようにしてる。
シュレッダーもあるし。

### 部屋の整理とか掃除とか

ハンガーをしこたま買って、服は全部ハンガーにかけたら床が散らかりにくくなった。
折りたたむのが面倒で、だったら全部ハンガーにかければいいじゃん、と。

そして下着やタオルはしわしわになっても構わないので、折りたたまずにタンスへ放り込む。
床に放置しがちなものを吊るす。
ハンガーラックにかばんを吊るして、本や雑貨をメタルラックに載せたりで、床にものが散らからないようにした。

元々別途も床に直起きだったけれど、掃除機かけられないのが嫌で移動可能なベッドフレームを買った。
床に放置されるものが減ると掃除機がかけやすくなったので、週次の掃除タイムが楽になった。
以前から部屋の掃除面倒だな、って思ってたけれど、掃除しやすい環境を整えるだけで掃除って自発的に進むもんだなと。

## まとめ

アウトプット量は減ったけれど、インプットが増えた1年だった。
出来ることを増やすためにもやはり継続的な勉強は必要。

そして勉強資料は場所を取るのでKindleなどの電子書籍は正義。
開発関係、仕事、私生活、いずれも改善系の活動を多くした。

あとLog4shellマジ勘弁。
古いパッケージを古いままにしてはいけないので、dependabotをどんどん入れていこう。

## 来年の目標

* OSS活動は引き続き。コミット量はどうなるかな
* AWSの勉強
  * SRE になったのでAWSの知識を高めていかねば
  * 今度こそAWSソリューションアーキテクトアソシエイト取る
* 応用情報次こそは取る
  * 正直 1 回受けて午前は時間の無駄だし、午後は 1 回受けて満足したので、再度受けるモチベーションはあんまりないが
  * 元々勉強のきっかけが欲しくて受けてみただけなので、どういう知識が必要なのかわかったので目的はすでに達成してる
  * まぁ次受けるなら午後対策特化にして午前の勉強時間削ろうかなと
